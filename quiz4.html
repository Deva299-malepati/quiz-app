<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>JavaScript Questions</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url("back.jpeg") no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .quiz-container {
      background: white;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 90%;
    }
    #timer {
      text-align: right;
      font-weight: bold;
      color: #c0392b;
    }
    #result {
      font-weight: bold;
      font-size: 18px;
      margin-top: 20px;
      text-align: center;
    }
    .question-block {
      margin-top: 20px;
    }
    .question-text {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 18px;
    }
    .options label {
      display: block;
      margin: 5px 0;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
      user-select: none;
      border: 1px solid #ccc;
      transition: background-color 0.3s;
    }
    .options label:hover {
      background-color: #f0f8ff;
    }
    .options input[type="radio"] {
      margin-right: 10px;
      cursor: pointer;
    }
    label.selected {
      background-color: #d0e7ff;
      color: #003366;
      border-color: #003366;
    }
    #next-btn, #retry-btn {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #007bff;
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
    }
    #next-btn:disabled {
      background-color: #a0c4ff;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<div class="quiz-container">
  <h2>HTML Quiz</h2>
  <div id="timer">Time Left: 5:00</div>
  
  <form id="quiz-form">
  </form>

  <button type="button" id="next-btn" disabled>Next</button>
  <button type="button" id="retry-btn" style="display:none;">Re-Quiz</button>

  <div id="result"></div>
</div>

<script>
  const quizForm = document.getElementById('quiz-form');
  const nextBtn = document.getElementById('next-btn');
  const retryBtn = document.getElementById('retry-btn');
  const resultEl = document.getElementById('result');
  const timerEl = document.getElementById('timer');

 const questions = [
    {
      question: "Which keyword is used to declare a variable in JavaScript?",
      options: ["var", "let", "both var and let"],
      correct: "both var and let"
    },
    {
      question: "How do you write a comment in JavaScript?",
      options: ["// This is a comment", "<!-- This is a comment -->", "# This is a comment"],
      correct: "// This is a comment"
    },
    {
      question: "Which method converts a JSON string to a JavaScript object?",
      options: ["JSON.parse()", "JSON.stringify()", "JSON.convert()"],
      correct: "JSON.parse()"
    },
    {
      question: "What is the output of: typeof NaN?",
      options: ["number", "NaN", "undefined"],
      correct: "number"
    },
    {
      question: "Which symbol is used for strict equality comparison in JavaScript?",
      options: ["=", "==", "==="],
      correct: "==="
    }
  ];


  let current = 0;
  let score = 0;
  let selectedAnswer = null;
  let userAnswers = [];
  let globalTime = 300;
  let timer;
  function startTimer() {
    timer = setInterval(() => {
      globalTime--;
      const minutes = Math.floor(globalTime / 60);
      const seconds = globalTime % 60;
      timerEl.textContent = `Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
      if(globalTime <= 0){
        clearInterval(timer);
        finishQuiz();
      }
    }, 1000);
  }

  function renderQuestion(index) {
    selectedAnswer = null;
    nextBtn.disabled = true;
    quizForm.innerHTML = "";

    const q = questions[index];
    const questionBlock = document.createElement('div');
    questionBlock.className = 'question-block';

    const questionText = document.createElement('div');
    questionText.className = 'question-text';
    questionText.textContent = `${index + 1}. ${q.question}`;
    questionBlock.appendChild(questionText);

    const optionsDiv = document.createElement('div');
    optionsDiv.className = 'options';

    q.options.forEach(option => {
      const label = document.createElement('label');
      const input = document.createElement('input');
      input.type = 'radio';
      input.name = 'answer';
      input.value = option;

      input.addEventListener('change', () => {
        selectedAnswer = input.value;
        optionsDiv.querySelectorAll('label').forEach(l => l.classList.remove('selected'));
        label.classList.add('selected');
        nextBtn.disabled = false;
      });

      label.appendChild(input);
      label.appendChild(document.createTextNode(option));
      optionsDiv.appendChild(label);
    });

    questionBlock.appendChild(optionsDiv);
    quizForm.appendChild(questionBlock);
  }
  function finishQuiz() {
    quizForm.style.display = 'none';
    nextBtn.style.display = 'none';
    timerEl.style.display = 'none';
    localStorage.setItem('userAnswers', JSON.stringify(userAnswers));
    localStorage.setItem('correctAnswers', JSON.stringify(questions.map(q => q.correct)));
    let storedUser = JSON.parse(localStorage.getItem('userAnswers'));
    let storedCorrect = JSON.parse(localStorage.getItem('correctAnswers'));
    score = storedUser.reduce((total, answer, i) => {
      return answer === storedCorrect[i] ? total + 1 : total;
    }, 0);
    resultEl.innerHTML = `âœ… You scored <strong>${score}</strong> out of ${questions.length}`;
    retryBtn.style.display = 'inline-block';
    clearInterval(timer);
  }

  nextBtn.addEventListener('click', () => {
    userAnswers.push(selectedAnswer);

    current++;
    if(current < questions.length) {
      renderQuestion(current);
      nextBtn.disabled = true;
    } else {
      finishQuiz();
    }
  });
   retryBtn.addEventListener('click', () => {
    location.reload();
  });

  renderQuestion(current);
  startTimer();
</script>


</body>
</html>

     
